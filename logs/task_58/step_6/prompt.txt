================================================================================
STEP 6
================================================================================
Started: 2025-12-10 00:10:38

Step 6: Retrieve all existing wills for the current user and compute the new target levels by increasing all wills by 1, except for the will named "Interest in cross-site collaboration" which should be decreased by 1.
Approach: Using the read API identified in Step 2, query employee_skill for all rows where employee_id equals the current user's employee_id and skill_type = 'will'. From the returned list, identify the entry whose skill_name corresponds to "Interest in cross-site collaboration" using a FUZZY and SEMANTIC / LOGICAL match (case-insensitive comparison, substring search, tolerance to typos and small variations like "cross site" vs "cross-site", and semantic similarity for related phrasing). For each will in the list: if it matches this target name, compute new_level = current_level - 1; for all others, compute new_level = current_level + 1. Respect the schema constraints (level must remain between 1 and 5) by bounding the result within [1,5] if needed, but do not change any other aspect of the records. Prepare a structured mapping of will identifiers to their new levels for use in the update step.
Expected Output: {"type": "object", "properties": {"wills_before": {"type": "array", "items": {"type": "object", "properties": {"skill_name": {"type": "string"}, "level": {"type": "integer"}}, "required": ["skill_name", "level"]}}, "wills_after": {"type": "array", "items": {"type": "object", "properties": {"skill_name": {"type": "string"}, "old_level": {"type": "integer"}, "new_level": {"type": "integer"}, "is_interest_in_cross_site_collaboration": {"type": "boolean"}}, "required": ["skill_name", "old_level", "new_level", "is_interest_in_cross_site_collaboration"]}}}, "required": ["wills_before", "wills_after"]}

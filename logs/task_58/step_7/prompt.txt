================================================================================
STEP 7
================================================================================
Started: 2025-12-10 00:15:02

Step 7: Persist the computed will level changes for the current user by updating each relevant employee_skill row according to the mapping from Step 6.
Approach: For each will entry in the "wills_after" list from Step 6, call the write API determined in Step 2 (for example, UpdateWillLevel on EmployeeProfile) with the current user's employee_id, the skill_name, and the computed new_level. Perform these updates in a loop within a single logical operation or transaction if supported, but keep the action type uniform (updating will levels only). Ensure that only will entries for the current user are updated and no other fields (such as skills or other employees' records) are modified. Record the outcome for each update, including any failures and their reasons.
Expected Output: {"type": "object", "properties": {"updated_count": {"type": "integer"}, "failed_count": {"type": "integer"}, "updated_wills": {"type": "array", "items": {"type": "object", "properties": {"skill_name": {"type": "string"}, "final_level": {"type": "integer"}}, "required": ["skill_name", "final_level"]}}, "errors": {"type": "array", "items": {"type": "string"}}}, "required": ["updated_count", "failed_count"]}

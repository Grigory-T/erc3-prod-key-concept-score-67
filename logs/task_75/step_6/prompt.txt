================================================================================
STEP 6
================================================================================
Started: 2025-12-09 23:20:25

Step 6: For the candidate employees with the minimum German level, compute their project work and select the least skilled person in German language who has the highest amount of project work, then return their non-sensitive employee details.
Approach: Take the candidate employee_ids from Step 5. For each candidate, query the team_member table to count the number of distinct project_id values where that employee_id appears, interpreting a higher count as more project work. Implement this using exact matches on employee_id, and if any ids need to be matched across systems, allow fuzzy matching only as a fallback while double-checking results to avoid mis-association. Identify the employee(s) with the maximum project count among the candidates. If there is a single employee with the highest project_count, select that employee as the final answer. If multiple candidates are tied both in German level and project_count, break ties deterministically (for example, by choosing the employee with lexicographically smallest employee_id) to return exactly one person. Finally, query the employee table for this selected employee_id to retrieve only non-sensitive fields (name, email, location, department) while explicitly excluding salary and notes. Return the selected employee's id, name, German skill level, project_count, and basic attributes.
Expected Output: { "type": "object", "properties": { "found": { "type": "boolean" }, "employee_id": { "type": "string" }, "name": { "type": "string" }, "email": { "type": "string" }, "location": { "type": "string" }, "department": { "type": "string" }, "german_skill_level": { "type": "integer" }, "project_count": { "type": "integer" } }, "required": ["found"] }

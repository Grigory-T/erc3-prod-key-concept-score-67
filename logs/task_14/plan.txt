================================================================================
INITIAL PLAN
================================================================================
Created: 2025-12-09 19:39:27

Steps:
  1. Clarify what the will/skill "Interest in cross-site collaboration" means and whether it is an officially defined competency or will in the company model.
     Approach: Search internal documentation and wiki files (wiki_file table and any related documentation systems) using **FUZZY** and **SEMANTIC / LOGICAL** search for terms like "Interest in cross-site collaboration", "cross site collaboration", "cross-site", and related competency or will names. Account for possible misspellings, different hyphenation, or wording (for example, "cross location collaboration" or "collaboration across sites"). From the best match, determine the canonical or normalized skill/will name that should be used when querying structured data.
     Expected Output: {"type":"object","properties":{"found":{"type":"boolean"},"normalized_skill_name":{"type":["string","null"]},"documentation_source":{"type":["string","null"]},"notes":{"type":"string"}},"required":["found","normalized_skill_name"]}
  2. Identify the technical data source and exact fields that store employees' wills, including "Interest in cross-site collaboration" or its normalized equivalent.
     Approach: Using the system design and SQL schema, perform a **FUZZY** and **SEMANTIC / LOGICAL** search over technical documentation and schema descriptions for where employee wills are stored (for example, tables like employee_skill with skill_type = 'will'). Confirm that the employee_skill table is the correct storage, determine the relevant columns (employee_id, skill_name, level, skill_type), and map how the normalized skill/will name from Step 1 should be matched against skill_name, including handling of minor naming differences and typos via fuzzy and partial matching.
     Expected Output: {"type":"object","properties":{"table_name":{"type":"string"},"skill_name_field":{"type":"string"},"level_field":{"type":"string"},"skill_type_field":{"type":"string"},"normalized_skill_name":{"type":"string"},"confirmed_is_will":{"type":"boolean"}},"required":["table_name","skill_name_field","level_field","skill_type_field","normalized_skill_name","confirmed_is_will"]}
  3. Verify the current user's identity and permissions to search employee wills by skill within company policy constraints.
     Approach: Call a who_am_i or equivalent EmployeeRegistry lookup for user id "iv5n_001" to retrieve department, location, and system_roles. Then, using **SEMANTIC / LOGICAL** evaluation of authorization rules, confirm that performing a SearchBySkill-type query on employee wills (returning only allowed public fields such as name, email, location, department, and relevant skill/will levels) is permitted. Do not proceed with any data access if the check fails.
     Expected Output: {"type":"object","properties":{"user_id":{"type":"string"},"department":{"type":"string"},"location":{"type":"string"},"system_roles":{"type":"array","items":{"type":"string"}},"search_by_skill_allowed":{"type":"boolean"}},"required":["user_id","system_roles","search_by_skill_allowed"]}
  4. Retrieve all employees who have a will entry corresponding to "Interest in cross-site collaboration" (or its normalized equivalent) and their associated will levels.
     Approach: If search_by_skill_allowed is true, query the employee_skill table joined with the employee table. Filter by skill_type = 'will' and match skill_name against the normalized skill name from Step 2 using a layered search strategy: (1) exact match, (2) case-insensitive and whitespace-normalized comparison, (3) partial substring search (using patterns similar to SQL LIKE) after lowercasing and trimming, (4) **FUZZY** matching (for example, fuzzy_compare, fuzzy_find_in_text) to handle misspellings or slight naming differences, and (5) **SEMANTIC / LOGICAL** matching to catch close conceptual variants like "cross-location collaboration interest" if present. From the employee table, fetch only allowed fields (name, email, location, department) plus the will level from employee_skill. Do not select or expose salary or any confidential notes.
     Expected Output: {"type":"object","properties":{"normalized_skill_name":{"type":"string"},"employees":{"type":"array","items":{"type":"object","properties":{"employee_id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"location":{"type":["string","null"]},"department":{"type":["string","null"]},"will_level":{"type":"integer"}},"required":["employee_id","name","email","will_level"]}}},"required":["normalized_skill_name","employees"]}
  5. Determine which employee or employees are most eager to get better at "Interest in cross-site collaboration" based on will levels and present the result.
     Approach: From the list of employees and will levels obtained in Step 4, compute the maximum will_level value. Select all employees whose will_level equals this maximum, as they are the most eager to get better at this will. If no employees are found, the result set is empty. Prepare the final output as a list of these top employees, including only allowed fields (employee_id, name, email, location, department, and will_level), and ensure that if multiple employees share the same highest will_level they are all included. This step uses **SEMANTIC / LOGICAL** reasoning only on already-fetched data and does not perform new external searches.
     Expected Output: {"type":"object","properties":{"normalized_skill_name":{"type":"string"},"max_will_level":{"type":["integer","null"]},"most_eager_employees":{"type":"array","items":{"type":"object","properties":{"employee_id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"location":{"type":["string","null"]},"department":{"type":["string","null"]},"will_level":{"type":"integer"}},"required":["employee_id","name","email","will_level"]}}},"required":["normalized_skill_name","most_eager_employees"]}

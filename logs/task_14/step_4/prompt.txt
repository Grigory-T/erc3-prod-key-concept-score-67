================================================================================
STEP 4
================================================================================
Started: 2025-12-09 19:57:00

Step 4: Retrieve all employees who have a will entry corresponding to "Interest in cross-site collaboration" (or its normalized equivalent) and their associated will levels.
Approach: If search_by_skill_allowed is true, query the employee_skill table joined with the employee table. Filter by skill_type = 'will' and match skill_name against the normalized skill name from Step 2 using a layered search strategy: (1) exact match, (2) case-insensitive and whitespace-normalized comparison, (3) partial substring search (using patterns similar to SQL LIKE) after lowercasing and trimming, (4) **FUZZY** matching (for example, fuzzy_compare, fuzzy_find_in_text) to handle misspellings or slight naming differences, and (5) **SEMANTIC / LOGICAL** matching to catch close conceptual variants like "cross-location collaboration interest" if present. From the employee table, fetch only allowed fields (name, email, location, department) plus the will level from employee_skill. Do not select or expose salary or any confidential notes.
Expected Output: {"type":"object","properties":{"normalized_skill_name":{"type":"string"},"employees":{"type":"array","items":{"type":"object","properties":{"employee_id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"location":{"type":["string","null"]},"department":{"type":["string","null"]},"will_level":{"type":"integer"}},"required":["employee_id","name","email","will_level"]}}},"required":["normalized_skill_name","employees"]}

================================================================================
STEP 4
================================================================================
Started: 2025-12-10 00:12:30

Step 4: Verify that the current authenticated user (BwFV_001, Manuela Valli) has sufficient permissions to view the contact email field for the identified EuroFlooring customer candidate(s).
Approach: Call a who_am_i or equivalent identity function to confirm the current user identity, department, location, and system roles for BwFV_001. Then, using the companyâ€™s access rules and the fact that reading CRM customer records (including primary_contact_email) is not restricted like salary or HR notes, determine whether Manuela is allowed to read customer.primary_contact_email for the candidate customer records. Ensure that this permission check happens after the candidate customer records are known, and that no unauthorized data is accessed or exposed if permissions would be denied.
Expected Output: {"type":"object","properties":{"user_id":{"type":"string"},"can_view_customer_email":{"type":"boolean"},"denial_reason":{"type":"string"}},"required":["user_id","can_view_customer_email"]}

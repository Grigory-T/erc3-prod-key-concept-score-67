================================================================================
STEP 4
================================================================================
Started: 2025-12-09 22:36:43

Step 4: Count how many projects are associated with each of the two target customers (BalkanRail Components and Adriatic Marine Services Provider) in the project table.
Approach: From the candidate matches in steps 1 and 2, select the most appropriate customer record for each name (prefer exact matches; if multiple high-scoring fuzzy matches exist, apply the highest match_score, and if still ambiguous, include all candidates). For each selected customer_id, query the project table using exact matching on project.customer_id to retrieve all projects, regardless of status (idea, exploring, active, paused, archived). Compute the number of projects per customer_id. Searching for projects should tolerate potential data issues in customer references by verifying exact customer_id equality first; if none are found and ambiguity exists, optionally perform **FUZZY** and **SEMANTIC / LOGICAL** checks on project.name and project.description containing the customer name as a fallback, but the primary metric should come from exact customer_id linkage.
Expected Output: {"type":"object","properties":{"customer_project_counts":{"type":"array","items":{"type":"object","properties":{"customer_id":{"type":"string"},"customer_name":{"type":"string"},"project_count":{"type":"integer"}},"required":["customer_id","customer_name","project_count"]}}},"required":["customer_project_counts"]}

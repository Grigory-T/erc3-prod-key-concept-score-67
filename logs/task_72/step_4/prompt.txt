================================================================================
STEP 4
================================================================================
Started: 2025-12-09 22:58:51

Step 4: Count how many projects are associated with each of the two target customers in the project table.
Approach: From the candidate lists in step 2, select the best-matching customer record for 'CentralSteel Engineering' and for 'Spanish Government' based on highest fuzzy or semantic match score, resolving any ties deterministically (for example, by most recent updated_at) but without creating new records. Then, for each selected customer_id, query the project table in the ProjectRegistry home system and count all projects where project.customer_id equals that customer_id, regardless of project status (include 'idea', 'exploring', 'active', 'paused', and 'archived' without additional status checks). Use exact customer_id matching first; only if necessary, consider that some project records might contain slightly misspelled customer_ids and detect these using **FUZZY** and **SEMANTIC / LOGICAL** checks, but keep these edge cases clearly separated. Return the resolved customer_ids and their project counts.
Expected Output: { "type": "object", "properties": { "centralsteel_selected_customer_id": { "type": ["string", "null"] }, "spanish_government_selected_customer_id": { "type": ["string", "null"] }, "centralsteel_project_count": { "type": "integer" }, "spanish_government_project_count": { "type": "integer" } }, "required": ["centralsteel_selected_customer_id", "spanish_government_selected_customer_id", "centralsteel_project_count", "spanish_government_project_count"] }

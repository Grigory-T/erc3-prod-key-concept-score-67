================================================================================
STEP 2
================================================================================
Started: 2025-12-09 19:31:10

Step 2: Find the correct location record corresponding to 'Paris Office – France' in the location table to ensure we target the right office.
Approach: Query the location table first with an exact match filter WHERE name = 'Paris Office – France'. If no row is found, progressively relax the search using lowercased and whitespace-normalized comparisons, partial matching (e.g., WHERE LOWER(name) LIKE '%paris%' AND LOWER(name) LIKE '%france%'), and if still ambiguous, apply fuzzy matching and semantic / logical search (for example, interpret that 'Paris Office – France' could map to entries like 'Paris', 'Paris, France', or 'France - Paris Office'). Use fuzzy_compare or similar tools to rank candidate locations and select the best match above a reasonable confidence threshold; if multiple candidates with similar high confidence exist, prepare to flag ambiguity. Searching must explicitly account for potential misspellings or variants in the location.name field (fuzzy matching, partial matching, double checks).
Expected Output: {"type":"object","properties":{"found":{"type":"boolean"},"ambiguous":{"type":"boolean"},"location_name":{"type":["string","null"]},"candidates":{"type":"array","items":{"type":"string"}}},"required":["found","ambiguous","candidates"]}

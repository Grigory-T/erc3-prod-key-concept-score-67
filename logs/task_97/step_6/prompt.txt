================================================================================
STEP 6
================================================================================
Started: 2025-12-10 00:41:28

Step 6: If permissions allow, execute the swap of workloads between Daniele Lombardi and Grimaldi Silvia on the identified project to correct the earlier entry mistake.
Approach: Only if step 5 confirms has_modify_workload_permission is true and step 4 confirms both_workloads_present is true, perform an atomic update on the workload entity (for example, team_member table) for the selected_project_id. Read the current workload values for both employees (for example, time_slice for Daniele and for Silvia), then swap these values: set Daniele's workload to Silvia's previous value and Silvia's workload to Daniele's previous value. Ensure the update is done within a single transaction so that either both updates succeed or both are rolled back. Do not change any other fields (such as role or project_id). If permissions are denied or one of the workloads is missing, do not perform any changes and instead mark the operation as not executed.
Expected Output: {"type":"object","properties":{"operation_executed":{"type":"boolean"},"reason":{"type":"string"},"project_id":{"type":["string","null"]},"before_after":{"type":"array","items":{"type":"object","properties":{"employee_id":{"type":"string"},"before_workload_value":{"type":["number","null"]},"after_workload_value":{"type":["number","null"]}},"required":["employee_id","before_workload_value","after_workload_value"]}}},"required":["operation_executed","reason"]}

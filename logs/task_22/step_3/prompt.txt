================================================================================
STEP 3
================================================================================
Started: 2025-12-09 20:14:39

Step 3: Query structured location data (location table and any structured office location references) to find any location entries corresponding exactly or approximately to Novi Sad / Нови Сад, and determine if they are marked as an office.
Approach: Run a query against the location table using an exact match filter on name for 'Novi Sad' and 'Нови Сад'. If no exact matches are returned, relax the search by checking if the normalized search strings (lowercased, whitespace-trimmed) are contained in location.name (using a substring 'in' style check), then use regex, and finally a FUZZY and SEMANTIC / LOGICAL search (e.g., fuzzy_compare on city names) to capture misspellings or alternative forms. Where available in structured data or related metadata, distinguish between entries that represent an "office" in the city versus other site types (for example, factory near Novi Sad). Collect all matching location names and any associated type indicators such as 'office', 'factory', or similar, taking care to include possible typos or alternate spellings like 'Novi-Sad', 'NoviSad', etc.
Expected Output: {"type":"object","properties":{"matched_locations":{"type":"array","items":{"type":"object","properties":{"location_name":{"type":"string"},"site_type":{"type":"string","description":"e.g. 'office','factory','warehouse','other'"},"match_confidence":{"type":"number"}},"required":["location_name","match_confidence"]}}},"required":["matched_locations"]}

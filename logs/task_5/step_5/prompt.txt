================================================================================
STEP 5
================================================================================
Started: 2025-12-09 19:32:55

Step 5: Determinare quale nome di progetto restituire all'utente o se è necessaria ulteriore chiarificazione.
Approach: Prendere l'elenco dei candidati dal passo 3 e le informazioni di accesso dal passo 4. Filtrare i candidati mantenendo solo quelli con `can_view_name = true`. Se dopo il filtro non rimane alcun candidato, impostare esito "not_found". Se rimane un solo candidato con punteggio di similarità più alto in modo chiaro (ad esempio significativamente superiore agli altri, secondo una soglia logica interna) selezionarlo come probabile corrispondenza del "progetto interessante con tutti gli extra" e preparare il suo `project_name` per la risposta. Se rimangono più candidati con punteggi simili, impostare esito "clarification_needed" elencando i nomi dei progetti per chiedere all'utente di specificare meglio. Non eseguire alcuna modifica ai dati, soltanto determinare l'esito decisionale.
Expected Output: {"type":"object","properties":{"outcome":{"type":"string","enum":["ok_answer","clarification_needed","not_found","denied_security"]},"selected_project_id":{"type":["string","null"]},"selected_project_name":{"type":["string","null"]},"candidate_projects":{"type":"array","items":{"type":"object","properties":{"project_id":{"type":"string"},"project_name":{"type":"string"},"similarity_score":{"type":"number"}},"required":["project_id","project_name","similarity_score"]}}},"required":["outcome","candidate_projects"]}

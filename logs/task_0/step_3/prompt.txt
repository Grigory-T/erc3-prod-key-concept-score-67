================================================================================
STEP 3
================================================================================
Started: 2025-12-09 19:22:37

Step 3: Identify the most likely project record(s) corresponding to the "primer optimisation project for RhineMach machinery frames" by searching the project and customer data, treating the textual references as potentially ambiguous and applying FUZZY and SEMANTIC / LOGICAL search with allowances for typos and partial matches.
Approach: First, query the customer table to search for a customer whose name matches or approximately matches "RhineMach" (including variants like "Rhine Mach", "Rhine-Mach", and case-insensitive, whitespace-insensitive comparisons). Use exact match where possible, then relax filters using substring search (lowercased, trimmed), then apply fuzzy matching (e.g., Levenshtein distance or similar) and SEMANTIC / LOGICAL search to handle near matches. Next, query the project table using a combination of project.name and project.description, filtering for terms like "primer optimisation", "primer optimization", and "machinery frames" with the same strategy: exact, partial, then fuzzy and semantic matching. If a likely customer for "RhineMach" is identified, further prioritize or filter projects linked via project.customer_id to that customer. Collect all candidate projects with associated match scores and do not yet assume a single correct project if multiple reasonable matches exist.
Expected Output: {"type": "object", "properties": {"projects": {"type": "array", "items": {"type": "object", "properties": {"project_id": {"type": "string"}, "project_name": {"type": "string"}, "project_description": {"type": "string"}, "customer_id": {"type": "string"}, "customer_name": {"type": "string"}, "match_score": {"type": "number"}}, "required": ["project_id", "project_name", "match_score"]}}, "search_notes": {"type": "string"}}, "required": ["projects"]}

================================================================================
STEP 6
================================================================================
Started: 2025-12-09 23:09:30

Step 6: Identify and rank the best internal expert in Quality management systems, outside of the identified projects, with preference for relevance to fast-curing floor systems and the Benelux region.
Approach: Assuming permission is granted, query the employee and employee_skill tables. First, construct a FUZZY and SEMANTIC / LOGICAL filter on employee_skill.skill_name for Quality management systems related skills: 'Quality management system', 'Quality management systems', 'QMS', 'ISO 9001', 'ISO 14001', 'ISO 45001', 'quality assurance', possibly informed by the standard_skill_tags from step 1. Use case-insensitive, partial, fuzzy, and semantic matching, and consider combining multiple related skills per employee. Retrieve employees whose skill_type = 'skill' and whose matched skills have high levels (for example, level >= 4 out of 5, but keep the exact levels in the data instead of filtering hard if business rules are unclear). Exclude any employees whose employee_id is in the project_team_members set from step 4 to ensure they are 'outside of the project'. Optionally prioritize employees located in or close to the Benelux region (e.g., locations like Amsterdam, Rotterdam, Antwerp, or other Netherlands/Belgium/Luxembourg cities) by capturing location from the employee table. Rank the remaining candidates by (a) highest Quality management systems related skill level, (b) number of distinct relevant QMS-related skills, and (c) proximity to Benelux-related locations. Select the top-ranked employee as the primary recommended expert and keep the rest as alternative options.
Expected Output: {"type":"object","properties":{"primary_expert":{"type":["object","null"],"properties":{"employee_id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"location":{"type":["string","null"]},"department":{"type":["string","null"]},"qms_skills":{"type":"array","items":{"type":"object","properties":{"skill_name":{"type":"string"},"level":{"type":"integer"}},"required":["skill_name","level"]}}},"required":["employee_id","name","email","location","department","qms_skills"]},"alternatives":{"type":"array","items":{"type":"object","properties":{"employee_id":{"type":"string"},"name":{"type":"string"},"location":{"type":["string","null"]},"department":{"type":["string","null"]},"qms_skills":{"type":"array","items":{"type":"object","properties":{"skill_name":{"type":"string"},"level":{"type":"integer"}},"required":["skill_name","level"]}}},"required":["employee_id","name","location","department","qms_skills"]}}},"required":["primary_expert","alternatives"]}
